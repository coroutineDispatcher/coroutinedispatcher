<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Getting hands dirty with KotlinJs - Coroutinedispatchers&#39; blog</title><meta name="Description" content="About LoveIt Theme"><meta property="og:title" content="Getting hands dirty with KotlinJs" />
<meta property="og:description" content="Although web development hasn&rsquo;t been my thing since I started programming, I was really attracted the way Kotlin does solve things. So I did give a try to KotlinJS.
**This is how to set up a KotlinJs page in less than an hour. **
Note: Chose to use the simplest set up without gradle or maven. You are free to chose what you like.
First of all, you start with a new project in your IntelliJ and choose Kotlin -&gt; Javascript." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/getting-hands-dirty-with-kotlinjs/" />
<meta property="article:published_time" content="2019-07-23T15:46:00+02:00" />
<meta property="article:modified_time" content="2019-07-23T15:46:00+02:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Getting hands dirty with KotlinJs"/>
<meta name="twitter:description" content="Although web development hasn&rsquo;t been my thing since I started programming, I was really attracted the way Kotlin does solve things. So I did give a try to KotlinJS.
**This is how to set up a KotlinJs page in less than an hour. **
Note: Chose to use the simplest set up without gradle or maven. You are free to chose what you like.
First of all, you start with a new project in your IntelliJ and choose Kotlin -&gt; Javascript."/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/getting-hands-dirty-with-kotlinjs/" /><link rel="prev" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/a-fusion-between-workmanager-and/" /><link rel="next" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/dagger-multibindings-saved-my-time/" /><link rel="stylesheet" href="/coroutinedispatcher/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/coroutinedispatcher/css/style.min.css"><link rel="stylesheet" href="/coroutinedispatcher/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/coroutinedispatcher/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Getting hands dirty with KotlinJs",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/coroutinedispatcher.github.io\/coroutinedispatcher\/posts\/getting-hands-dirty-with-kotlinjs\/"
        },"genre": "posts","keywords": "Html, Web development, KotlinJs, Javascript, Kotlin, Kotlinxhtml","wordcount":  710 ,
        "url": "https:\/\/coroutinedispatcher.github.io\/coroutinedispatcher\/posts\/getting-hands-dirty-with-kotlinjs\/","datePublished": "2019-07-23T15:46:00+02:00","dateModified": "2019-07-23T15:46:00+02:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Stavro Xhardha"},"author": {
                "@type": "Person",
                "name": "Stavro Xhardha"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/coroutinedispatcher/" title="Coroutinedispatchers&#39; blog">Coroutinedispatchers&#39; blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/coroutinedispatcher/"> Home </a><a class="menu-item" href="/coroutinedispatcher/posts/"> Posts </a><a class="menu-item" href="/coroutinedispatcher/about/"> About </a><a class="menu-item" href="https://speakerdeck.com/stavro96" rel="noopener noreffer" target="_blank"> Presentation Slides </a><span class="menu-item delimiter"></span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/coroutinedispatcher/" title="Coroutinedispatchers&#39; blog">Coroutinedispatchers&#39; blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><a class="menu-item" href="/coroutinedispatcher/" title="">Home</a><a class="menu-item" href="/coroutinedispatcher/posts/" title="">Posts</a><a class="menu-item" href="/coroutinedispatcher/about/" title="">About</a><a class="menu-item" href="https://speakerdeck.com/stavro96" title="" rel="noopener noreffer" target="_blank">Presentation Slides</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Getting hands dirty with KotlinJs</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/about/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Stavro Xhardha</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-07-23">2019-07-23</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;710 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;4 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p><a href="http://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg"
        data-srcset="https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg, https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg 1.5x, https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg"
        title="https://1.bp.blogspot.com/-WW-WcLldzXQ/XTcDGOIP3yI/AAAAAAAAOhQ/D4VIHRwfXZoMeFIlzyDvBEWQ-y17SjW_gCK4BGAYYCw/s1600/alice-achterhof-FwF_fKj5tBo-unsplash.jpg" /></a></p>
<p>Although web development hasn&rsquo;t been my thing since I started programming, I was really attracted the way Kotlin does solve things. So I did give a try to KotlinJS.</p>
<p>**This is how to set up a KotlinJs page in less than an hour. **<br>
<em>Note: Chose to use the simplest set up without gradle or maven. You are free to chose what you like.</em><br>
First of all, you start with a new project in your IntelliJ and choose Kotlin -&gt; Javascript.</p>
<p><a href="https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png"
        data-srcset="https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png, https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png 1.5x, https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png"
        title="https://1.bp.blogspot.com/-Rblt4Wqz0AQ/XTcF1ilAr_I/AAAAAAAAOhY/gmHS0bDzg0UVzEEJSGhV2WBkrBbDPhikgCLcBGAs/s1600/Screenshot_3.png" /></a></p>
<p>After that, you can name your project and start. The IDE will generate an empty folder for you.</p>
<p>So to start of, you have lots of options here, for example, you may program the html and css on your own, and than connect the dots with kotlin. Or, you can fully type in Kotlin (as I chose to do it) with this nice library called <a href="https://github.com/Kotlin/kotlinx.html" target="_blank" rel="noopener noreffer">Kotlinx Html</a>.<br>
Since I&rsquo;m not using gradle nor maven, I should import it as a JAR (which is not that cool, but for a demo project, no problem) 👎</p>
<p>**On with the show. **<br>
So what the app will do? The user inputs a name, and he gets back a <a href="http://www.icndb.com/api/" target="_blank" rel="noopener noreffer">Chuck Norris</a> joke with the name inside it.</p>
<p><a href="https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png"
        data-srcset="https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png, https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png 1.5x, https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png"
        title="https://1.bp.blogspot.com/-ui27nHBSjbE/XTcJd_LR06I/AAAAAAAAOhk/vHRe0qRsXKMUOpJPoWDUTCFHKBIs9VQ0gCLcBGAs/s1600/Screenshot_4.png" /></a></p>
<p>And after that:</p>
<p><a href="https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png"
        data-srcset="https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png, https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png 1.5x, https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png"
        title="https://1.bp.blogspot.com/-h8afQiOZxZc/XTcJrfUn-FI/AAAAAAAAOho/ypgZbBFL2QsL8YpZunUmqzCHX1A5cLj3ACLcBGAs/s1600/Screenshot_5.png" /></a></p>
<p><strong>The code:</strong></p>
<p>I found a nice implementation using the MVP pattern (not sure if it is the right one on the web) <a href="https://www.raywenderlich.com/201669-web-app-with-kotlin-js-getting-started#toc-anchor-002" target="_blank" rel="noopener noreffer">here</a>. So I set up the interfaces first.</p>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">interface</span> <span class="nc">JokeContract</span> <span class="p">{</span>
    <span class="k">interface</span> <span class="nc">View</span> <span class="p">{</span>
        <span class="k">fun</span> <span class="nf">showJoke</span><span class="p">(</span><span class="n">jokeValue</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>
        <span class="k">fun</span> <span class="nf">showLoader</span><span class="p">()</span>
        <span class="k">fun</span> <span class="nf">hideLoader</span><span class="p">()</span>
    <span class="p">}</span>

    <span class="k">interface</span> <span class="nc">Presenter</span> <span class="p">{</span>
        <span class="k">fun</span> <span class="nf">attach</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="n">View</span><span class="p">)</span>
        <span class="k">fun</span> <span class="nf">loadJokes</span><span class="p">(</span><span class="n">input</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>After that I create the View implementing class and the Presenter implementer class:</p>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">class</span> <span class="nc">JokesPresenter</span> <span class="p">:</span> <span class="n">JokeContract</span><span class="p">.</span><span class="n">Presenter</span> <span class="p">{</span>
    <span class="k">private</span> <span class="k">lateinit</span> <span class="k">var</span> <span class="py">view</span><span class="p">:</span> <span class="n">JokeContract</span><span class="p">.</span><span class="n">View</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">attach</span><span class="p">(</span><span class="n">view</span><span class="p">:</span> <span class="n">JokeContract</span><span class="p">.</span><span class="n">View</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="n">view</span> <span class="p">=</span> <span class="n">view</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">loadJokes</span><span class="p">(</span><span class="n">input</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">view</span><span class="p">.</span><span class="n">showLoader</span><span class="p">()</span>
        <span class="n">getAsync</span><span class="p">(</span><span class="s">&#34;https://api.icndb.com/jokes/random?firstName=$input&amp;escape=javascript&#34;</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">val</span> <span class="py">joke</span> <span class="p">=</span> <span class="n">JSON</span><span class="p">.</span><span class="n">parse</span><span class="p">&lt;</span><span class="n">RandomJokeResponse</span><span class="p">&gt;(</span><span class="n">it</span><span class="p">)</span>

            <span class="n">view</span><span class="p">.</span><span class="n">hideLoader</span><span class="p">()</span>

            <span class="n">view</span><span class="p">.</span><span class="n">showJoke</span><span class="p">(</span><span class="n">joke</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">joke</span><span class="p">)</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="k">private</span> <span class="k">fun</span> <span class="nf">getAsync</span><span class="p">(</span><span class="n">url</span><span class="p">:</span> <span class="n">String</span><span class="p">,</span> <span class="n">callback</span><span class="p">:</span> <span class="p">(</span><span class="n">String</span><span class="p">)</span> <span class="p">-&gt;</span> <span class="n">Unit</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">xmlHttp</span> <span class="p">=</span> <span class="n">XMLHttpRequest</span><span class="p">()</span>
        <span class="n">xmlHttp</span><span class="p">.</span><span class="k">open</span><span class="p">(</span><span class="s">&#34;GET&#34;</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
        <span class="n">xmlHttp</span><span class="p">.</span><span class="n">onload</span> <span class="p">=</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">xmlHttp</span><span class="p">.</span><span class="n">status</span> <span class="p">==</span> <span class="m">200.</span><span class="n">toShort</span><span class="p">())</span> <span class="p">{</span>
                <span class="n">println</span><span class="p">(</span><span class="n">xmlHttp</span><span class="p">.</span><span class="n">responseText</span><span class="p">)</span>
                <span class="n">callback</span><span class="p">.</span><span class="n">invoke</span><span class="p">(</span><span class="n">xmlHttp</span><span class="p">.</span><span class="n">responseText</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">xmlHttp</span><span class="p">.</span><span class="n">send</span><span class="p">()</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>Notice the API call is made with XMLHttpRequest, inside the getAsync method. That&rsquo;s the object responsible for API calls. When response successful, we parse the response to our RandomJokeResponse object and let the view handle the rest.</p>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">class</span> <span class="nc">JokesPage</span><span class="p">(</span><span class="k">private</span> <span class="k">val</span> <span class="py">presenter</span><span class="p">:</span> <span class="n">JokeContract</span><span class="p">.</span><span class="n">Presenter</span><span class="p">)</span> <span class="p">:</span> <span class="n">JokeContract</span><span class="p">.</span><span class="n">View</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">root</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">&#34;root&#34;</span><span class="p">)</span>
    <span class="k">private</span> <span class="k">var</span> <span class="py">loaderdiv</span><span class="p">:</span> <span class="n">HTMLElement</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="n">create</span><span class="p">.</span><span class="n">div</span> <span class="p">{</span>
        <span class="n">p</span> <span class="p">{</span>
            <span class="p">+</span><span class="s">&#34;Loading...&#34;</span>
        <span class="p">}</span>
    <span class="p">}</span>

    <span class="n">init</span> <span class="p">{</span>

        <span class="k">val</span> <span class="py">div</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="n">create</span><span class="p">.</span><span class="n">div</span> <span class="p">{</span>
            <span class="n">h3</span> <span class="p">{</span>
                <span class="p">+</span><span class="s">&#34;Place your name and get a random joke&#34;</span>
            <span class="p">}</span>

            <span class="n">form</span> <span class="p">{</span>
                <span class="n">id</span> <span class="p">=</span> <span class="s">&#34;form&#34;</span>
                <span class="n">input</span> <span class="p">{</span>
                    <span class="n">id</span> <span class="p">=</span> <span class="s">&#34;name&#34;</span>
                    <span class="n">type</span> <span class="p">=</span> <span class="n">InputType</span><span class="p">.</span><span class="n">text</span>
                <span class="p">}</span>
                <span class="n">input</span> <span class="p">{</span>
                    <span class="n">type</span> <span class="p">=</span> <span class="n">InputType</span><span class="p">.</span><span class="n">submit</span>
                <span class="p">}</span>

                <span class="n">onSubmitFunction</span> <span class="p">=</span> <span class="p">{</span> <span class="n">event</span> <span class="p">-&gt;</span>
                    <span class="k">val</span> <span class="py">element</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="n">getElementById</span><span class="p">(</span><span class="s">&#34;name&#34;</span><span class="p">)</span> <span class="k">as</span> <span class="n">HTMLInputElement</span>
                    <span class="k">if</span> <span class="p">(</span><span class="n">element</span><span class="p">.</span><span class="n">value</span><span class="p">.</span><span class="n">isNotEmpty</span><span class="p">())</span>
                        <span class="n">presenter</span><span class="p">.</span><span class="n">loadJokes</span><span class="p">(</span><span class="n">element</span><span class="p">.</span><span class="n">value</span><span class="p">)</span>
                    <span class="k">else</span>
                        <span class="n">window</span><span class="p">.</span><span class="n">alert</span><span class="p">(</span><span class="s">&#34;Please place some name&#34;</span><span class="p">)</span>
                    <span class="n">event</span><span class="p">.</span><span class="n">preventDefault</span><span class="p">()</span>
                <span class="p">}</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">root</span><span class="o">!!</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">div</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">showJoke</span><span class="p">(</span><span class="n">jokeValue</span><span class="p">:</span> <span class="n">String</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">val</span> <span class="py">text</span> <span class="p">=</span> <span class="n">document</span><span class="p">.</span><span class="n">create</span><span class="p">.</span><span class="n">div</span> <span class="p">{</span>
            <span class="n">h3</span> <span class="p">{</span>
                <span class="p">+</span><span class="n">jokeValue</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">root</span><span class="o">!!</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">showLoader</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">root</span><span class="o">!!</span><span class="p">.</span><span class="n">appendChild</span><span class="p">(</span><span class="n">loaderdiv</span><span class="p">)</span>
    <span class="p">}</span>

    <span class="k">override</span> <span class="k">fun</span> <span class="nf">hideLoader</span><span class="p">()</span> <span class="p">{</span>
        <span class="n">root</span><span class="o">!!</span><span class="p">.</span><span class="n">removeChild</span><span class="p">(</span><span class="n">loaderdiv</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div><p>The HTML tags are not constructed as normally thanks to KotlinxHTML, but they are written in Kotlin(DSL).</p>
<p><strong>But the browser doesn&rsquo;t speak Kotlin! The connecting dot.</strong></p>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="p">&lt;!</span><span class="n">DOCTYPE</span> <span class="n">html</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">html</span> <span class="n">lang</span><span class="p">=</span><span class="s">&#34;en&#34;</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">head</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">meta</span> <span class="n">charset</span><span class="p">=</span><span class="s">&#34;UTF-8&#34;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="n">title</span><span class="p">&gt;</span><span class="n">Name</span> <span class="n">Joke</span><span class="p">&lt;/</span><span class="n">title</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">head</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">div</span> <span class="n">id</span><span class="p">=</span><span class="s">&#34;root&#34;</span><span class="p">&gt;&lt;/</span><span class="n">div</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="p">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="n">src</span><span class="p">=</span><span class="s">&#34;out/production/RandomJoke/lib/kotlin.js&#34;</span><span class="p">&gt;&lt;/</span><span class="n">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="p">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="n">src</span><span class="p">=</span><span class="s">&#34;out/production/RandomJoke/lib/kotlinx-html-js.js&#34;</span><span class="p">&gt;&lt;/</span><span class="n">script</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="n">script</span> <span class="n">type</span><span class="p">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="n">src</span><span class="p">=</span><span class="s">&#34;out/production/RandomJoke/RandomJoke.js&#34;</span><span class="p">&gt;&lt;/</span><span class="n">script</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">body</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="n">html</span><span class="p">&gt;</span>
</code></pre></div><p>It certainly needs an HTML file, with some small configuration. On the scripting tags I connect the generated files inside the out directory and libraries that I might include. At that&rsquo;s all sufficient for the browser. Now you may continue to type KOTLIN.</p>
<p>After that, you are free to create a class whatever the name is, and write the main method, so that the View page will be constructed. Since I&rsquo;m a spring fan, I add the `Application` suffix:</p>
<div class="highlight"><pre class="chroma"><code class="language-kotlin" data-lang="kotlin"><span class="k">fun</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">val</span> <span class="py">jokesPresenter</span> <span class="p">=</span> <span class="n">JokesPresenter</span><span class="p">()</span>
    <span class="k">val</span> <span class="py">jokesPage</span> <span class="p">=</span> <span class="n">JokesPage</span><span class="p">(</span><span class="n">jokesPresenter</span><span class="p">)</span>
    <span class="n">jokesPresenter</span><span class="p">.</span><span class="n">attach</span><span class="p">(</span><span class="n">jokesPage</span><span class="p">)</span>
<span class="p">}</span>
</code></pre></div><p>Done! You may check the page here:</p>
<p><a href="https://coroutinedispatcher.github.io/name_joke/index.html" target="_blank" rel="noopener noreffer">Name Norris Joke KotlinJS</a></p>
<p>And full project on:</p>
<p><a href="https://github.com/coroutinedispatcher/name_joke" target="_blank" rel="noopener noreffer">Name Norris Joke KotlinJS Repository</a></p>
<p><strong>Conclusion</strong><br>
Kotlin is the language that brought so innovative ways of solving problems. It&rsquo;s growing and improving every day. You may deal nearly everywhere with it: Android, Server-Side, Frontend and even IOS with Kotlin Multiplatform.</p>
<p>@import url(&lsquo;<a href="https://cdn.rawgit.com/lonekorean/gist-syntax-themes/848d6580/stylesheets/monokai.css');">https://cdn.rawgit.com/lonekorean/gist-syntax-themes/848d6580/stylesheets/monokai.css');</a> @import url(&lsquo;<a href="https://fonts.googleapis.com/css?family=Open+Sans');">https://fonts.googleapis.com/css?family=Open+Sans');</a> body { margin: 20px; font: 16px &lsquo;Open Sans&rsquo;, sans-serif; } Good luck playing with it.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-07-23</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/coroutinedispatcher/tags/html/">Html</a>,&nbsp;<a href="/coroutinedispatcher/tags/web-development/">Web development</a>,&nbsp;<a href="/coroutinedispatcher/tags/kotlinjs/">KotlinJs</a>,&nbsp;<a href="/coroutinedispatcher/tags/javascript/">Javascript</a>,&nbsp;<a href="/coroutinedispatcher/tags/kotlin/">Kotlin</a>,&nbsp;<a href="/coroutinedispatcher/tags/kotlinxhtml/">Kotlinxhtml</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/coroutinedispatcher/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/coroutinedispatcher/posts/a-fusion-between-workmanager-and/" class="prev" rel="prev" title="A fusion between WorkManager and AlarmManager"><i class="fas fa-angle-left fa-fw"></i>A fusion between WorkManager and AlarmManager</a>
            <a href="/coroutinedispatcher/posts/dagger-multibindings-saved-my-time/" class="next" rel="next" title="Dagger Multibindings saved my time">Dagger Multibindings saved my time<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.73.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/about/" target="_blank">Stavro Xhardha</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/coroutinedispatcher/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":100},"comment":{}};</script><script type="text/javascript" src="/coroutinedispatcher/js/theme.min.js"></script></body>
</html>
