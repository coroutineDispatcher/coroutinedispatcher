<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Some quick notes on Dark Mode - Coroutinedispatchers&#39; blog</title><meta name="Description" content="About LoveIt Theme"><meta property="og:title" content="Some quick notes on Dark Mode" />
<meta property="og:description" content="The dark mode, perhaps is one of the easiest functionality to implement without breaking literally anything in existing project. However, it has it&rsquo;s own hidden costs, tricks. Before implementing the Dark mode, what is most important is that your project must be ready for dark mode.
What I had:

What I wanted to achieve:

The setup:
The only thing you need to do to get your app ready for dark mode is the themes tag and the AppCompatDelegate class." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/some-quick-notes-on-dark-mode/" />
<meta property="article:published_time" content="2019-09-09T10:03:00+02:00" />
<meta property="article:modified_time" content="2019-09-09T10:03:00+02:00" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Some quick notes on Dark Mode"/>
<meta name="twitter:description" content="The dark mode, perhaps is one of the easiest functionality to implement without breaking literally anything in existing project. However, it has it&rsquo;s own hidden costs, tricks. Before implementing the Dark mode, what is most important is that your project must be ready for dark mode.
What I had:

What I wanted to achieve:

The setup:
The only thing you need to do to get your app ready for dark mode is the themes tag and the AppCompatDelegate class."/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/some-quick-notes-on-dark-mode/" /><link rel="prev" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/a-small-comparison-between-3-essential/" /><link rel="next" href="https://coroutinedispatcher.github.io/coroutinedispatcher/posts/publish-your-library-to-jitpack/" /><link rel="stylesheet" href="/coroutinedispatcher/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/coroutinedispatcher/css/style.min.css"><link rel="stylesheet" href="/coroutinedispatcher/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/coroutinedispatcher/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Some quick notes on Dark Mode",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/coroutinedispatcher.github.io\/coroutinedispatcher\/posts\/some-quick-notes-on-dark-mode\/"
        },"genre": "posts","keywords": "Android Architecture Components, Dark theme Android, Kotlin, Dark Mode, Android Development","wordcount":  422 ,
        "url": "https:\/\/coroutinedispatcher.github.io\/coroutinedispatcher\/posts\/some-quick-notes-on-dark-mode\/","datePublished": "2019-09-09T10:03:00+02:00","dateModified": "2019-09-09T10:03:00+02:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "Stavro Xhardha"},"author": {
                "@type": "Person",
                "name": "Stavro Xhardha"
            },"description": ""
    }
    </script></head>
    <body header-desktop="" header-mobile=""><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : '' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/coroutinedispatcher/" title="Coroutinedispatchers&#39; blog">Coroutinedispatchers&#39; blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/coroutinedispatcher/"> Home </a><a class="menu-item" href="/coroutinedispatcher/posts/"> Posts </a><a class="menu-item" href="/coroutinedispatcher/about/"> About </a><a class="menu-item" href="https://speakerdeck.com/stavro96" rel="noopener noreffer" target="_blank"> Presentation Slides </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/coroutinedispatcher/" title="Coroutinedispatchers&#39; blog">Coroutinedispatchers&#39; blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/coroutinedispatcher/" title="">Home</a><a class="menu-item" href="/coroutinedispatcher/posts/" title="">Posts</a><a class="menu-item" href="/coroutinedispatcher/about/" title="">About</a><a class="menu-item" href="https://speakerdeck.com/stavro96" title="" rel="noopener noreffer" target="_blank">Presentation Slides</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Some quick notes on Dark Mode</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/about/" title="Author" rel=" author" class="author"><i class="fas fa-user-circle fa-fw"></i>Stavro Xhardha</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-09-09">2019-09-09</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;422 words&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;2 minutes&nbsp;</div>
        </div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents"></nav></div>
            </div><div class="content" id="content"><p><a href="https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg"
        data-srcset="https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg, https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg 1.5x, https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg"
        title="https://1.bp.blogspot.com/-ur3CRpODGmw/XXVKC9GW7YI/AAAAAAAAPKY/KzYcwcteoqERxQCXTRY0aNi2fQCFumyzACLcBGAs/s1600/elliott-engelmann-DjlKxYFJlTc-unsplash.jpg" /></a></p>
<p>The dark mode, perhaps is one of the easiest functionality to implement without breaking literally anything in existing project. However, it has it&rsquo;s own hidden costs, tricks. Before implementing the Dark mode, what is most important is that your project must be ready for dark mode.</p>
<p><strong>What I had:</strong></p>
<p><a href="https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s1600/Screenshot_20190908-204023__01.jpg" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg"
        data-srcset="https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg, https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg 1.5x, https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg"
        title="https://1.bp.blogspot.com/-oh1b-Pl6zXQ/XXVLyYcOPRI/AAAAAAAAPKk/UXJJmGpjnBUL4L_rTP8IR1pZ3NtjytNmwCLcBGAs/s400/Screenshot_20190908-204023__01.jpg" /></a></p>
<p><strong>What I wanted to achieve:</strong></p>
<p><a href="https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s1600/Screenshot_20190908-204008__01.jpg" target="_blank" rel="noopener noreffer"><img
        class="lazyload"
        src="/coroutinedispatcher/svg/loading.min.svg"
        data-src="https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg"
        data-srcset="https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg, https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg 1.5x, https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg 2x"
        data-sizes="auto"
        alt="https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg"
        title="https://1.bp.blogspot.com/-BnND1T8D_og/XXVL25pkwkI/AAAAAAAAPKo/3IsLKRX9B5QnqLNE6xFh7DTy8qopaM_WQCLcBGAs/s400/Screenshot_20190908-204008__01.jpg" /></a></p>
<p><strong>The setup:</strong><br>
The only thing you need to do  to get your app ready for dark mode is the themes tag and the AppCompatDelegate class. The rest depends on your project. So instead of some &lt;style name=&quot;AppTheme&rdquo; parent=&quot;Theme.AppCompat.Light.DarkActionBar&quot;&gt; you just need the &lt;style name=&quot;AppTheme&rdquo; parent=&quot;Theme.AppCompat.DayNight&quot;&gt; . The code for dark mode/light mode is pretty simple: </p>
<p>_Note: These are not the <a href="https://developer.android.com/guide/topics/ui/look-and-feel/darktheme" target="_blank" rel="noopener noreffer">only states.</a> _</p>
<p><strong>The problems I faced:</strong></p>
<p><strong>The drawer:</strong><br>
First of all,   if you notice the drawer on the Light mode, you will see that the text of the menu items, is black. I don&rsquo;t really want that, because in dark mode it will truly suck. Since you cannot change it from xml, here is what you can do for it:</p>
<p>** Custom inserted colors:**<br>
There is two options in this part of the problem. Well, my background colors or my text colors had a color set by the xml and not by the theme. So what you can do here is choose colors that don&rsquo;t really affect the visibility on theme change, or leave Androids default.</p>
<p>Since I am using a single Activity and making these changes in the activity (because the drawer is located there) there is no more need to handle things in fragments (except when having to replace an icon depending on the theme).</p>
<p><strong>The toolbar:</strong><br>
Yes. We should be careful with the toolbar. Once you implement the dark theme, you may not want your toolbar to have a black text as well. So you just change it&rsquo;s behavior to:</p>
<p><strong>The savedInstanceState.</strong><br>
One mistake I used to make during my implementation was that I tried to recreate() the activity in order for the onSavedInstanceState to be called. No need for that, once you call AppCompatDelegate.setDefaultNightMode(AppCompatDelegate.WHATEVER_MODE) the activity will recreate for you. Once the activity is recreated, in your onCreate method you can check for the drawer or toolbar as discussed above.</p>
<p><strong>Is there a better approach?</strong><br>
Perhaps yes. You may try to code all this from the theme tag on the styles.xml. But since xml is not my thing,  I chose this approach.</p>
<p>@import url(&lsquo;<a href="https://cdn.rawgit.com/lonekorean/gist-syntax-themes/848d6580/stylesheets/monokai.css');">https://cdn.rawgit.com/lonekorean/gist-syntax-themes/848d6580/stylesheets/monokai.css');</a> @import url(&lsquo;<a href="https://fonts.googleapis.com/css?family=Open+Sans');">https://fonts.googleapis.com/css?family=Open+Sans');</a> body { margin: 20px; font: 16px &lsquo;Open Sans&rsquo;, sans-serif; } Hope I helped. Full project on <a href="https://github.com/coroutineDispatcher/pocket_treasure" target="_blank" rel="noopener noreffer">Github</a>.</p>
</div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2019-09-09</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/coroutinedispatcher/tags/android-architecture-components./">Android Architecture Components.</a>,&nbsp;<a href="/coroutinedispatcher/tags/dark-theme-android/">Dark theme Android</a>,&nbsp;<a href="/coroutinedispatcher/tags/kotlin/">Kotlin</a>,&nbsp;<a href="/coroutinedispatcher/tags/dark-mode/">Dark Mode</a>,&nbsp;<a href="/coroutinedispatcher/tags/android-development/">Android Development</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/coroutinedispatcher/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/coroutinedispatcher/posts/a-small-comparison-between-3-essential/" class="prev" rel="prev" title="A small comparison between 3 essential algorithms in Kotlin"><i class="fas fa-angle-left fa-fw"></i>A small comparison between 3 essential algorithms in Kotlin</a>
            <a href="/coroutinedispatcher/posts/publish-your-library-to-jitpack/" class="next" rel="next" title="Publish your library to JitPack ">Publish your library to JitPack <i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.73.0">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i> LoveIt</a>
                </div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/about/" target="_blank">Stavro Xhardha</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><script type="text/javascript" src="/coroutinedispatcher/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/algoliasearch/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/coroutinedispatcher/lib/clipboard/clipboard.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.en","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/coroutinedispatcher/js/theme.min.js"></script></body>
</html>
